<!DOCTYPE html>

<head>
    <!-- <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" defer></script>
    <script>
        window.OneSignal = window.OneSignal || [];
        OneSignal.push(function () {
            OneSignal.init({
                appId: "4f4a143f-2a38-41a0-b1ac-9f456dad63d3",
                safari_web_id: "web.onesignal.auto.5ffbfb2e-5b9e-4e33-a6e5-d97b1e693743",
                notifyButton: {
                    enable: true,
                },
            });
        });
    </script> -->
</head>
<body>
    <div class="container">
        <div>Notification data will receive here if the app is open, and focused</div>
        <div class="message" style="min-height: 80px;"></div>
        <div>Device Token:</div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-messaging-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDvlnQrEBQfKaDLuUDjgFacbL-qk9cTcEI",
            authDomain: "fir-hr-a6e5a.firebaseapp.com",
            projectId: "fir-hr-a6e5a",
            storageBucket: "fir-hr-a6e5a.appspot.com",
            messagingSenderId: "263371950169",
            appId: "1:263371950169:web:27352fec2dc59b2f3d4948"
        };
        const app = firebase.initializeApp(firebaseConfig)
        const messaging = firebase.messaging();

        messaging.getToken({ vapidKey: 'BGqbKM_4QlNLaR4aiby0dbg4_duTKmf-cejZvsvZu8bhbG8krsgjXmCojcQ0qH0cWpGndMOSL5XT1VPFQom_GAs' })

        messaging.onMessage((payload) => {
            // notification data receive here, use it however you want
            // keep in mind if message receive here, it will not notify in background
            console.log('Message received. ', payload);
            const messagesElement = document.querySelector('.message');
            const dataHeaderElement = document.createElement('h5');
            const dataElement = document.createElement('pre');
            dataElement.style = 'overflow-x:hidden;';
            dataHeaderElement.textContent = 'Message Received:';
            dataElement.textContent = JSON.stringify(payload, null, 2);
            messagesElement.appendChild(dataHeaderElement);
            messagesElement.appendChild(dataElement);
        });
    </script>
    
</body>
